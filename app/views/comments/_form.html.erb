<%= form_for [@category, @recommendation, @comment] do |f|  %>
<!-- validation does not appear to work here, @recommendation info not passing when rendered -->

  <%= f.text_field(:'text', :placeholder => "do you have thoughts...?", class: "form-control") %><br>
  <%= f.hidden_field :category_id, :value => @category.id %>
  <%= f.hidden_field :recommendation_id, :value => @recommendation.id %>
  <%= f.submit "Submit Comment", {class: "btn btn-primary"} %>
<% end %>

<script type="text/javascript" charset="utf-8">
  $(function () {
    $('form').submit(function(event) {
      event.preventDefault();
      debugger;
      let values = $(this).serialize();
      debugger;
      let posting = $.post(`${this.action}`, values);

      posting.done(function(data) {
        debugger;
        let post = data;
        $("#postTitle").text(post["title"]);
        $("#postBody").text(post["description"]);
      });
    });
  });
</script>
